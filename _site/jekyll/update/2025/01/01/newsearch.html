<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="/assets/css/styles.css" rel="stylesheet" type="text/css">
<style>

</style>
</head>
<body class="bg_blue">
    <head>
    <link href="//fonts.googleapis.com/css?family=Maven+Pro" rel="stylesheet" type="text/css">
</head>
<header class="site_header">
    <a href="/home2" class="home_button">Hmovie</a>
    <!-- <form action="/search/" method="get" id="header_searchbar">
        <input type="text" name="q" />
        <input type="submit" value="Search"/>
    </form> -->
    <form action="/search/" id="header_searchbar" method="get" >
        <span class="search_icon"></span>
        <input type="text" class="search_input" name="q" placeholder="search" required/>
    </form>
    <a href="/about/" class="nav_button">ABOUT</a>
    <a href="/explore/" class="nav_button">EXPLORE</a>
    <a href="/contribute/" class="nav_button">CONTRIBUTE</a>
</header>



    <div class="center_content">
        <p id="search"></p>
        <h2 id="no_results">No Results</h2>
        <!-- <input type="text" id="myInput" onkeyup="newFilter()" placeholder="Search for names.." title="Type in a name"> -->
        <h1 id="search_actor_header">Actors</h1>
        <ul id="actors_list">
            
                <li data-movie-title="Ntxhoo Lauj" class="inner_shadow">
                    <a href="/cast/Ntxhoo-Lauj">
                        <div class="side_by_side">
                            <img src="/assets/images/cast_thumbnails/Ntxhoo Lauj.png" class="circle_img" alt="actor link" height="80px">
                            <p>Ntxhoo Lauj</p>
                        </div>
                    </a>
                </li>
            
                <li data-movie-title="Mab Sua Lis" class="inner_shadow">
                    <a href="/cast/Ma-Sua-Lis">
                        <div class="side_by_side">
                            <img src="/assets/images/cast_thumbnails/Mab Sua Lis.png" class="circle_img" alt="actor link" height="80px">
                            <p>Mab Sua Lis</p>
                        </div>
                    </a>
                </li>
            
                <li data-movie-title="Khais Lauj" class="inner_shadow">
                    <a href="/cast/Khais-Lauj">
                        <div class="side_by_side">
                            <img src="/assets/images/cast_thumbnails/no_cast_image.jpeg" class="circle_img" alt="actor link" height="80px">
                            <p>Khais Lauj</p>
                        </div>
                    </a>
                </li>
            
        </ul>

        <h1 id="search_movie_header">Movies</h1>
        <ul id="movies_search_list" class="inner_shadow">
            
                <li data-year="" data-movie-title="Txhob Haus Ntshav Tes Part 1" data-movie-cast="Kooj Hawj, Xis Vaj, Ntsuab Vaj, Paj Thoj, Kaus Hawj, Vaj Yaj">
                    <a href="/movie/Txhob_Haus_Ntshav_Tes_Part_1">
                        <img src="/assets/images/movie_thumbnails/Txhob Haus Ntshav Tes Part 1.jpeg" alt="movie link" class="rounded_img" width="100%">
                        <div>Txhob Haus Ntshav Tes Part 1</div>
                    </a>
                </li>
            
                <li data-year="2002" data-movie-title="Niam Nkauj Zuag Paj & Txiv Nraug Ntsuag Part 3" data-movie-cast="Ntxhoo Lauj, Keeb Yaj, Khais Lauj, Tswb Yaj, Ntxhi Vaj, Kooj Hawj, Sua Lis">
                    <a href="/movie/Niam_Nkauj_Zuag_Paj_&_Txiv_Nraug_Ntsuag_Part_3">
                        <img src="/assets/images/movie_thumbnails/Niam Nkauj Zuag Paj & Txiv Nraug Ntsuag Part 3.jpeg" alt="movie link" class="rounded_img" width="100%">
                        <div>Niam Nkauj Zuag Paj & Txiv Nraug Ntsuag Part 3</div>
                    </a>
                </li>
            
                <li data-year="2001" data-movie-title="Niam Nkauj Zuag Paj & Txiv Nraug Ntsuag Part 2" data-movie-cast="Ntxhoo Lauj, Keeb Yaj, Khais Lauj, Tswb Yaj, Ntxhi Vaj, Kooj Hawj, Sua Lis">
                    <a href="/movie/Niam_Nkauj_Zuag_Paj_&_Txiv_Nraug_Ntsuag_Part_2">
                        <img src="/assets/images/movie_thumbnails/Niam Nkauj Zuag Paj & Txiv Nraug Ntsuag Part 2.jpeg" alt="movie link" class="rounded_img" width="100%">
                        <div>Niam Nkauj Zuag Paj & Txiv Nraug Ntsuag Part 2</div>
                    </a>
                </li>
            
                <li data-year="2002" data-movie-title="Niam Nkauj Zuag Paj & Txiv Nraug Ntsuag Part 1" data-movie-cast="Keeb Yaj, Ntxhoo Lauj, Khais Lauj, Kooj Hawj, Sua Lis, Tswb Yaj, Txais Hawj, Tswj Hwm Hawj, Daus Yaj">
                    <a href="/movie/Niam_Nkauj_Zuag_Paj_&_Txiv_Nraug_Ntsuag_Part_1">
                        <img src="/assets/images/movie_thumbnails/Niam Nkauj Zuag Paj & Txiv Nraug Ntsuag Part 1.jpeg" alt="movie link" class="rounded_img" width="100%">
                        <div>Niam Nkauj Zuag Paj & Txiv Nraug Ntsuag Part 1</div>
                    </a>
                </li>
            
                <li data-year="2014" data-movie-title="Ntawv Tsis Tiam" data-movie-cast="Kos Lis, Nis Hawj, Coob Thoj, Npauj Vaj, Npis Yaj, Txawj Yaj">
                    <a href="/movie/Ntawv_Tsis_Tiam">
                        <img src="/assets/images/movie_thumbnails/Ntawv Tsis Tiam.jpeg" alt="movie link" class="rounded_img" width="100%">
                        <div>Ntawv Tsis Tiam</div>
                    </a>
                </li>
            
                <li data-year="2004" data-movie-title="Kuv Leej Niam (Lost Love) Part 2" data-movie-cast="Maiv Neeb Thoj, Vam Yaj, Lis Vaj, Npis Thoj, Vam Lis Thoj, Cua Yaj, Paj Thoj, Paj Zaub Vwj, Ntxawm Vaj, Lwm Xyooj">
                    <a href="/movie/Kuv_Leej_Niam_(Lost_Love)_Part_2">
                        <img src="/assets/images/movie_thumbnails/no_thumbnail.jpeg" alt="movie link" class="rounded_img" width="100%">
                        <div>Kuv Leej Niam (Lost Love) Part 2</div>
                    </a>
                </li>
            
                <li data-year="2020" data-movie-title="Hlub Zaum Ob" data-movie-cast="Kwm Lis, Zuag 'Naiv' Vaaj, Tsheem Yaaj, Vam Lis Thoj, Neeb Hawj, Maiv Lis Yaj, Mais Xyooj, Xaiv Xaab Yaaj, Kaag 'Xaiv Xaab' Yaaj, Ntxhoo 'Nchaiv Yis' Lis">
                    <a href="/movie/Hlub-Zaum-Ob">
                        <img src="/assets/images/movie_thumbnails/Hlub Zaum Ob.jpeg" alt="movie link" class="rounded_img" width="100%">
                        <div>Hlub Zaum Ob</div>
                    </a>
                </li>
            
                <li data-year="" data-movie-title="ABC" data-movie-cast="">
                    <a href="/movie/ABC">
                        <img src="/assets/images/movie_thumbnails/no_thumbnail.jpeg" alt="movie link" class="rounded_img" width="100%">
                        <div>ABC</div>
                    </a>
                </li>
            
                <li data-year="" data-movie-title="1985" data-movie-cast="Ntxhoo Lauj, Keeb Yaj, Khais Lauj, Tswb Yaj, Ntxhi Vaj, Kooj Hawj, Sua Lis">
                    <a href="/movie/1985">
                        <img src="/assets/images/movie_thumbnails/no_thumbnail.jpeg" alt="movie link" class="rounded_img" width="100%">
                        <div>1985</div>
                    </a>
                </li>
            
        </ul>
    </div>


<script>

function filterActors(query) {
    var hasAtLeastOne = false;
    var input, filter, ul, li, a, i, txtValue;
    input = query;
    filter = query.toUpperCase();
    ul = document.getElementById("actors_list");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getAttribute("data-movie-title");
        console.log("A is: " + a);
        if (a.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
            hasAtLeastOne = true;
        } else {
            li[i].style.display = "none";
        }
    }

    if (hasAtLeastOne) {
        document.getElementById("search_actor_header").style.display = "";
    }
    else {
        document.getElementById("search_actor_header").style.display = "none";
    }
    return hasAtLeastOne;
}

function filterMovies(query) {
    var hasAtLeastOne = false;
    var input, filter, ul, li, a, i, txtValue;
    input = query;
    filter = query.toUpperCase();
    ul = document.getElementById("movies_search_list");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getAttribute("data-movie-title");
        console.log("A is: " + a);
        if (a.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
            hasAtLeastOne = true;
        } else {
            li[i].style.display = "none";
        }
    }

    for (i = 0; i < li.length; i++) {
        a = li[i].getAttribute("data-movie-cast");
        console.log("A is: " + a);
        if (a.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
            hasAtLeastOne = true;
        } 
    }

    if (hasAtLeastOne) {
        document.getElementById("search_movie_header").style.display = "";
        document.getElementById("movies_search_list").style.display = "";
    }
    else {
        document.getElementById("search_movie_header").style.display = "none";
        document.getElementById("movies_search_list").style.display = "none";
    }

    return hasAtLeastOne;
}

function postIfNone(query, hasActor, hasMovie) {
    if (hasActor || hasMovie) {
        document.getElementById("no_results").style.display = "none";
    }
    else {
        document.getElementById("no_results").style.display = "";
    }

}

function getQueryVariable(variable) {
        var query = window.location.search.substring(1),
            vars = query.split("&");

        for (var i = 0; i < vars.length; i++) {
            var pair = vars[i].split("=");

            if (pair[0] === variable) {
                return decodeURIComponent(pair[1].replace(/\+/g, '%20')).trim();
            }
        }
}

var query = decodeURIComponent((getQueryVariable("q") || "").replace(/\+/g, "%20"));
console.log(query);
var hasActor = filterActors(query);
var hasMovie = filterMovies(query);
postIfNone(query, hasActor, hasMovie);

    
</script>

</body>
<footer class="site_footer">
    <div>
        <h1>Hmovie</h1>
        <p>This fellowship was made possible in part by the people of Minnesota through a grant funded by an appropriation to the Minnesota Historical Society from the Minnesota Arts and Cultural Heritage Fund.</p>
        <div class="sponsor_logos" >
            <img src="../assets/images/logos/legacy_logo-H.jpg" alt="Clean Water Land & Legacy Amendment Logo">
            <img src="../assets/images/logos/RCHS Logo Red.jpg" alt="Ramsey County Historical Society Logo">
            <img src="../assets/images/logos/Center for Hmong Studies.png" alt="Center for Hmong Studies Logo">
        </div>
    </div>
    <div class="footer_stack_items">
        <h1 class="footer_sub_title">About</h1>
        <a href="/about">About Hmovie</a>
        <a href="/contribute">Contribute</a>
    </div>
    <div>
        <h1 class="footer_sub_title">Legal</h1>
        <a href="/legal">Legal</a>
    </div>
    <div>
        <h1 class="footer_sub_title">Contact</h1>
        <a href="/about">email TODO</a>
    </div>
</footer>
</html>
